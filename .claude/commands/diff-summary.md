---
description: gitの変更内容を分析して日本語で要約する
allowed-tools: Bash(git:*)
---

# Git Diff Summary

## コンテキスト

- 現在のgit status: !`git status`
- ステージング済みの変更: !`git diff --cached --stat`
- 未ステージングの変更: !`git diff --stat`
- 変更されたファイル一覧: !`git diff --name-only HEAD`

## 実行手順

1. **変更内容の取得**
   - `git status` で現在の状態を確認
   - `git diff --stat` で変更の統計情報を取得
   - `git diff` または `git diff --cached` で詳細な変更内容を取得
   - 新規ファイル、削除ファイル、変更ファイルを特定

2. **変更内容の分析**
   - 変更されたファイルの種類を分類（ソースコード、設定、ドキュメント等）
   - 追加/削除/変更された行数を集計
   - 変更の種類を判断（機能追加、バグ修正、リファクタリング、ドキュメント更新等）
   - 主要な変更ポイントを抽出

3. **要約の生成**
   - 変更の全体像を簡潔に説明
   - ファイルごとの主要な変更点をリストアップ
   - 影響範囲や重要な変更を強調
   - すべて日本語で記述

4. **出力**
   - 構造化された要約を表示
   - 必要に応じて変更の詳細を提供

## 注意事項

- 変更がない場合は「変更はありません」と表示
- 大量の変更がある場合は、主要な変更のみをハイライト
- ステージング済みと未ステージングの変更を区別
- バイナリファイルの変更は「バイナリファイル」として表示
- 機密情報（パスワード、APIキー等）が含まれていないか確認

## 出力形式

```markdown
# 変更の要約

## 概要

[変更の全体像を1-2文で説明]

## 変更統計

- 変更ファイル数: X ファイル
- 追加行数: +XXX
- 削除行数: -XXX

## ステージング済みの変更

[ステージング済みの変更がある場合]

- `ファイル名`: 変更内容の説明

## 未ステージングの変更

[未ステージングの変更がある場合]

- `ファイル名`: 変更内容の説明

## 主要な変更点

1. [重要な変更点1]
2. [重要な変更点2]
3. [重要な変更点3]

## 変更の種類

- [ ] 機能追加
- [ ] バグ修正
- [ ] リファクタリング
- [ ] ドキュメント更新
- [ ] 設定変更
- [ ] その他
```
